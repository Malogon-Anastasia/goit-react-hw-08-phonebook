{"version":3,"sources":["components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/store.js","index.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/auth/auth-slice.js","components/Navigation/Navigation.module.css","components/AuthNav/AuthNav.module.css","redux/contacts/contacts-actions.js","redux/contacts/contacts-selectors.js","redux/contacts/contacts-operations.js","redux/contacts/contacts-reducer.js","components/Container/Container.js","components/Container/Container.module.css"],"names":["Navigation","to","className","isActive","s","active","link","styles","container","display","alignItems","avatar","marginRight","name","fontWeight","UserMenu","dispatch","useDispatch","useSelector","authSelectors","getUsername","style","Button","variant","type","onClick","authOperations","logOut","AuthNav","header","justifyContent","textDecoration","padding","borderBottom","fontSize","AppBar","isLoggedIn","getIsLoggedIn","PrivateRoute","children","redirectTo","PublicRoute","restricted","App","isFetchingCurrentUser","getFetchingCurrent","useEffect","fetchCurrentUser","HomeView","lazy","RegisterView","LoginView","ContactsView","Container","heigth","width","color","arialLabel","fallback","path","element","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","contactsReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","concat","logger","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById","axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","post","data","toast","error","message","logIn","_","thunkAPI","state","getState","persistedToken","console","log","rejectWithValue","get","operations","user","authSlice","createSlice","initialState","email","isFetchingCarrentUser","extraReducers","fulfilled","action","payload","pending","rejected","module","exports","fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","getContacts","items","getFilter","filter","getVisibleContacts","normalizedFilter","toLowerCase","contact","includes","contactsSelectors","getLoading","getTotalContactCount","length","contactsOperations","fetchContacts","then","catch","addContact","number","success","deleteContact","id","delete","createReducer","combineReducers"],"mappings":"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","file":"static/js/main.9f82e4d7.chunk.js","sourcesContent":["import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navigation.module.css';\r\n\r\nconst Navigation = () => (\r\n  <nav>\r\n    <NavLink to=\"/\" className={({ isActive }) => isActive ? s.active : s.link}>Home</NavLink>\r\n\r\n    <NavLink to=\"/contacts\" className={({ isActive }) => isActive ? s.active : s.link}>Contacts</NavLink>\r\n  </nav>\r\n);\r\n\r\nexport default Navigation;","import { useDispatch, useSelector } from 'react-redux';\r\nimport { authSelectors, authOperations } from '../../redux/auth';\r\nimport * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\n\r\n\r\nconst styles = {\r\n  container: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    marginRight: 4,\r\n  },\r\n  name: {\r\n    fontWeight: 700,\r\n    marginRight: 12,\r\n  },\r\n};\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelectors.getUsername);\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <span style={styles.name}>Welcome, {name}</span>\r\n      <Button variant=\"contained\" type=\"button\" onClick={() => dispatch(authOperations.logOut())}>\r\n        Log out\r\n      </Button>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './AuthNav.module.css';\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        to=\"/register\"\r\n        className={({ isActive }) => (isActive ? s.active : s.link)}\r\n      >\r\n        Sign up\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/login\"\r\n        className={({ isActive }) => (isActive ? s.active : s.link)}\r\n      >\r\n        Sign in\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}","import { useSelector } from 'react-redux';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport UserMenu from '../UserMenu/UserMenu';\r\nimport AuthNav from '../AuthNav/AuthNav';\r\nimport { authSelectors } from '../../redux/auth';\r\n// import styles from './AppBar.module.css';\r\n\r\nconst styles = {\r\n  header: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    textDecoration: 'none',\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    borderBottom: '1px solid #2A363B',\r\n    fontSize: '18px',\r\n   \r\n  },\r\n};\r\n\r\nexport default function AppBar() {\r\n    const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n    return (\r\n        <header style={styles.header}>\r\n            <Navigation />\r\n            {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n        </header>\r\n    );\r\n}","import { useSelector } from 'react-redux';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { authSelectors } from 'redux/auth';\r\n\r\nexport default function PrivateRoute({ children, redirectTo = '/' }) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return isLoggedIn ? children : <Navigate to={redirectTo} />;\r\n}","import { useSelector } from 'react-redux';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { authSelectors } from 'redux/auth';\r\n\r\nexport default function PublicRoute({\r\n  children,\r\n  restricted = false,\r\n  redirectTo = '/',\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n  return shouldRedirect ? <Navigate to={redirectTo} /> : children;\r\n}","import { useDispatch, useSelector } from 'react-redux';\r\nimport AppBar from './components/AppBar/AppBar';\r\nimport Container from './components/Container';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport PublicRoute from './components/PublicRoute';\r\nimport { useEffect, lazy, Suspense } from 'react';\r\nimport { Routes, Route } from 'react-router-dom';\r\nimport { Audio } from \"react-loader-spinner\";\r\n// import s from './App.module.css';\r\nimport { Toaster } from \"react-hot-toast\";\r\nimport * as React from 'react';\r\n// import ReactDOM from 'react-dom';\r\n// import Button from '@mui/material/Button';\r\nimport { authOperations, authSelectors } from './redux/auth';\r\n\r\n\r\n\r\nexport default function App() {\r\n  \r\n  const dispatch = useDispatch();\r\n  const isFetchingCurrentUser = useSelector(authSelectors.getFetchingCurrent);\r\n\r\n  useEffect(() => {\r\n    dispatch(authOperations.fetchCurrentUser());\r\n  }, [dispatch]);\r\n  \r\n  const HomeView = lazy(() =>\r\n    import('views/HomeView.js' /* webpackChunkName: \"HomeView\" */),\r\n  );\r\n  const RegisterView = lazy(() =>\r\n    import('views/RegisterView.js' /* webpackChunkName: \"RegisterView\" */),\r\n  );\r\n  const LoginView = lazy(() =>\r\n    import('views/LoginView.js' /* webpackChunkName: \"LoginView\" */),\r\n  );\r\n  const ContactsView = lazy(() =>\r\n    import('views/ContactsView.js' /* webpackChunkName: \"ContactsView\" */),\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n       <Toaster />\r\n      {isFetchingCurrentUser ? (\r\n        <Audio\r\n          heigth=\"300\"\r\n          width=\"300\"\r\n          color='grey'\r\n          arialLabel='loading'/>\r\n      ) : (\r\n      <>\r\n      <AppBar />\r\n\r\n      <Suspense fallback={\r\n        <Audio\r\n          heigth=\"300\"\r\n          width=\"300\"\r\n          color='grey'\r\n          arialLabel='loading'/>\r\n      }>\r\n            <Routes>\r\n              <Route\r\n                path=\"/\"\r\n                element={\r\n                  <PublicRoute>\r\n                    <HomeView />\r\n                  </PublicRoute>\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/register\"\r\n                element={\r\n                  <PublicRoute restricted>\r\n                    <RegisterView />\r\n                  </PublicRoute>\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/login\"\r\n                element={\r\n                  <PublicRoute redirectTo=\"/contacts\" restricted>\r\n                    <LoginView />\r\n                  </PublicRoute>\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/contacts\"\r\n                element={\r\n                  <PrivateRoute redirectTo=\"/login\">\r\n                    <ContactsView />\r\n                  </PrivateRoute>\r\n                }\r\n              />\r\n            </Routes>\r\n          </Suspense></>)}\r\n    </Container>\r\n  )\r\n}","import { configureStore, } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger'\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport { authReducer } from './auth';\r\nimport { contactsReducer } from './contacts';\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n}\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: contactsReducer,\r\n  },\r\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER,]\r\n    }\r\n  })\r\n    .concat(logger),\r\n  devTools: process.env.NODE_ENV === 'development',\r\n  \r\n});\r\n\r\n\r\nexport const persistor = persistStore(store);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport { store, persistor } from './redux/store';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\n\r\nReactDOM.render(\r\n  \r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n","import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { toast } from 'react-toastify';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com/';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\n/*\r\n * POST @ /users/signup\r\n * body: { name, email, password }\r\n * После успешной регистрации добавляем токен в HTTP-заголовок\r\n */\r\nconst register = createAsyncThunk('auth/register', async credentials => {\r\n  try {\r\n    const { data } = await axios.post('/users/signup', credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {\r\n      toast.error(error.message);\r\n    // TODO: Добавить обработку ошибки error.message\r\n  }\r\n});\r\n\r\n/*\r\n * POST @ /users/login\r\n * body: { email, password }\r\n * После успешного логина добавляем токен в HTTP-заголовок\r\n */\r\nconst logIn = createAsyncThunk('auth/login', async credentials => {\r\n  try {\r\n    const { data } = await axios.post('/users/login', credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {\r\n      toast.error(error.message);\r\n    // TODO: Добавить обработку ошибки error.message\r\n  }\r\n});\r\n\r\n/*\r\n * POST @ /users/logout\r\n * headers: Authorization: Bearer token\r\n * После успешного логаута, удаляем токен из HTTP-заголовка\r\n */\r\nconst logOut = createAsyncThunk('auth/logout', async () => {\r\n  try {\r\n    await axios.post('/users/logout');\r\n    token.unset();\r\n  } catch (error) {\r\n      toast.error(error.message);\r\n    // TODO: Добавить обработку ошибки error.message\r\n  }\r\n});\r\n/*\r\n * GET @ /users/current\r\n * headers:\r\n *    Authorization: Bearer token\r\n *\r\n * 1. Забираем токен из стейта через getState()\r\n * 2. Если токена нет, выходим не выполняя никаких операций\r\n * 3. Если токен есть, добавляет его в HTTP-заголовок и выполянем операцию\r\n */\r\nconst fetchCurrentUser = createAsyncThunk(\r\n  'auth/refresh',\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = state.auth.token;\r\n\r\n    if (persistedToken === null) {\r\n      console.log('Токена нет, уходим из fetchCurrentUser');\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n\r\n    token.set(persistedToken);\r\n    try {\r\n      const { data } = await axios.get('/users/current');\r\n      return data;\r\n    } catch (error) {\r\n        toast.error(error.message);\r\n      // TODO: Добавить обработку ошибки error.message\r\n    }\r\n  },\r\n);\r\n\r\nconst operations = {\r\n  register,\r\n  logOut,\r\n  logIn,\r\n  fetchCurrentUser,\r\n};\r\nexport default operations;","const getIsLoggedIn = state => state.auth.isLoggedIn;\r\n\r\nconst getUsername = state => state.auth.user.name;\r\n\r\nconst getFetchingCurrent = state => state.auth.isFetchingCurrentUser;\r\n\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUsername,\r\n  getFetchingCurrent,\r\n};\r\nexport default authSelectors;","import { createSlice } from '@reduxjs/toolkit';\r\nimport authOperations from './auth-operations';\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n  isFetchingCarrentUser: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  extraReducers: {\r\n    [authOperations.register.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logIn.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logOut.fulfilled](state, action) {\r\n      state.user = { name: null, email: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n    [authOperations.fetchCurrentUser.pending](state) {\r\n      state.isFetchingCurrentUser = true;\r\n    },\r\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\r\n      state.user = action.payload;\r\n      state.isLoggedIn = true;\r\n      state.isFetchingCurrentUser = false;\r\n      },\r\n    [authOperations.fetchCurrentUser.rejected](state) {\r\n      state.isFetchingCurrentUser = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__1TLkn\",\"active\":\"Navigation_active__2ho22 Navigation_link__1TLkn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__EmqT-\",\"active\":\"AuthNav_active__1DJ10\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactsRequest = createAction(\r\n  'contacts/fetchContactsRequest',\r\n);\r\nexport const fetchContactsSuccess = createAction(\r\n  'contacts/fetchContactsSuccess',\r\n);\r\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction(\r\n  'contacts/deleteContactRequest',\r\n);\r\nexport const deleteContactSuccess = createAction(\r\n  'contacts/deleteContactSuccess',\r\n);\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\nexport const changeFilter = createAction('contacts/changeFilter');","export const getLoading = state => state.contacts.loading;\r\nexport const getContacts = state => state.contacts.items;\r\nexport const getFilter = state => state.contacts.filter;\r\n\r\nexport const getVisibleContacts = state => {\r\n  const contacts = getContacts(state);\r\n  const filter = getFilter(state);\r\n\r\n  const normalizedFilter = filter.toLowerCase();\r\n\r\n  return contacts.filter(contact =>\r\n    contact.name.toLowerCase().includes(normalizedFilter),\r\n  );\r\n};\r\n\r\nconst getTotalContactCount = state => {\r\n  const contacts = getContacts(state);\r\n  return contacts.length;\r\n};\r\n\r\nconst contactsSelectors = {\r\n  getLoading,\r\n  getFilter,\r\n  getVisibleContacts,\r\n  getTotalContactCount,\r\n};\r\n\r\nexport default contactsSelectors;","import axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n} from './contacts-actions';\r\n\r\nconst fetchContacts = () => dispatch => {\r\n  dispatch(fetchContactsRequest());\r\n\r\n  axios\r\n    .get('/contacts')\r\n    .then(({ data }) => dispatch(fetchContactsSuccess(data)))\r\n    .catch(error => dispatch(fetchContactsError(error.message)));\r\n};\r\n\r\nconst addContact =\r\n  ({ name, number }) =>\r\n  dispatch => {\r\n    const contact = {\r\n      name,\r\n      number,\r\n    };\r\n\r\n    dispatch(addContactRequest());\r\n\r\n    axios\r\n      .post('/contacts', contact)\r\n      .then(({ data }) => {\r\n        dispatch(addContactSuccess(data));\r\n        toast.success('Contact successfully created');\r\n      })\r\n      .catch(error => dispatch(addContactError(error.message)));\r\n  };\r\n\r\nconst deleteContact = id => dispatch => {\r\n  dispatch(deleteContactRequest());\r\n\r\n  axios\r\n    .delete(`/contacts/${id}`)\r\n    .then(() => {\r\n      dispatch(deleteContactSuccess(id));\r\n      toast.success('Contact successfully deleted');\r\n    })\r\n    .catch(error => dispatch(deleteContactError(error.message)));\r\n};\r\n\r\nconst contactsOperations = {\r\n  fetchContacts,\r\n  addContact,\r\n  deleteContact,\r\n};\r\nexport default contactsOperations;","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  changeFilter,\r\n} from './contacts-actions';\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactsSuccess]: () => false,\r\n  [fetchContactsError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nconst items = createReducer([], {\r\n  [fetchContactsSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\r\n  [deleteContactSuccess]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [fetchContactsError]: (_, { payload }) => toast.error(payload),\r\n  [addContactError]: error => console.log(error),\r\n  [deleteContactError]: error => console.log(error),\r\n});\r\n\r\nexport default combineReducers({\r\n  loading,\r\n  items,\r\n  filter,\r\n  error,\r\n});","import styles from './Container.module.css';\r\n\r\nexport default function Container({ children }) {\r\n  return <div className={styles.container}>{children}</div>;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3-9M4\"};"],"sourceRoot":""}